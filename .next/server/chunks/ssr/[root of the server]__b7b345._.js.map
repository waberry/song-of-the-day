{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/berry/Development/song-of-the-day/src/app/_components/navbar/navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { Menu, X, Music, BarChart2, Info, Sun, Moon } from 'lucide-react';\nimport { signIn, signOut, useSession } from \"next-auth/react\";\n\ninterface NavLink {\n  href: string;\n  label: string;\n  icon: React.ReactNode;\n}\n\nexport default function Navbar() {\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isScrolled, setIsScrolled] = useState(false);\n  const [darkMode, setDarkMode] = useState(false);\n  const { data: session, status } = useSession();\n\n  const navLinks: NavLink[] = [\n    { href: \"/main\", label: \"Classic\", icon: <Music size={20} /> },\n    { href: \"/leaderboard\", label: \"Leaderboard\", icon: <BarChart2 size={20} /> },\n    { href: \"/about\", label: \"About\", icon: <Info size={20} /> },\n  ];\n\n  useEffect(() => {\n    const savedDarkMode = localStorage.getItem('darkMode');\n    if (savedDarkMode !== null) {\n      setDarkMode(JSON.parse(savedDarkMode));\n    }\n\n    const handleScroll = () => {\n      setIsScrolled(window.scrollY > 10);\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  useEffect(() => {\n    document.documentElement.classList.toggle('dark', darkMode);\n    localStorage.setItem('darkMode', JSON.stringify(darkMode));\n  }, [darkMode]);\n\n  const handleSignIn = async () => {\n    await signIn(\"spotify\", { callbackUrl: \"/main\" });\n  };\n\n  const handleSignOut = async () => {\n    await signOut({ callbackUrl: \"/\" });\n  };\n\n  const toggleMobileMenu = () => {\n    setIsMobileMenuOpen(prev => !prev);\n  };\n\n  const toggleDarkMode = () => {\n    setDarkMode(prev => !prev);\n  };\n\n  return (\n    <nav className={`sticky top-0 z-50 w-full transition-all duration-300 ${\n      isScrolled \n        ? 'bg-white/70 dark:bg-gray-800/70 backdrop-blur-md shadow-md' \n        : 'bg-transparent'\n    }`}>\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          <div className=\"flex items-center\">\n            <Link href=\"/\" className=\"flex items-center text-2xl font-bold text-indigo-600 dark:text-white\">\n              <Music className=\"mr-2 h-6 w-6\" />\n              {/* TODO: add logo here */}\n            </Link>\n          </div>\n          <div className=\"hidden md:block\">\n            <div className=\"ml-10 flex items-center space-x-4\">\n              {navLinks.map((link) => (\n                <Link\n                  key={link.href}\n                  href={link.href}\n                  className=\"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 px-3 py-2 rounded-md text-sm font-medium flex items-center transition-colors duration-200\"\n                >\n                  {link.icon}\n                  <span className=\"ml-2\">{link.label}</span>\n                </Link>\n              ))}\n              <button\n                onClick={toggleDarkMode}\n                className=\"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 p-2 rounded-md transition-colors duration-200\"\n                aria-label={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n              >\n                {darkMode ? <Sun size={20} /> : <Moon size={20} />}\n              </button>\n              {status === \"loading\" ? (\n                <span className=\"text-gray-700 dark:text-gray-300\">Loading...</span>\n              ) : session ? (\n                <button\n                  onClick={handleSignOut}\n                  className=\"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200\"\n                  aria-label=\"Sign out\"\n                >\n                  Sign Out\n                </button>\n              ) : (\n                <button\n                  onClick={handleSignIn}\n                  className=\"bg-[#1DB954] hover:bg-[#1ed760] text-white px-4 py-2 rounded-md text-sm font-medium flex items-center transition-colors duration-200\"\n                  aria-label=\"Connect with Spotify\"\n                >\n                  <Music size={20} className=\"mr-2\" />\n                  Connect with Spotify\n                </button>\n              )}\n            </div>\n          </div>\n          <div className=\"md:hidden\">\n            <button\n              onClick={toggleMobileMenu}\n              className=\"inline-flex items-center justify-center p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 transition-colors duration-200\"\n              aria-label=\"Toggle mobile menu\"\n            >\n              {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile menu */}\n      <div className={`md:hidden transition-all duration-300 ease-in-out ${\n        isMobileMenuOpen ? 'max-h-screen opacity-100' : 'max-h-0 opacity-0 overflow-hidden'\n      }`}>\n        <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white/70 dark:bg-gray-800/70 backdrop-blur-md\">\n          {navLinks.map((link) => (\n            <Link\n              key={link.href}\n              href={link.href}\n              className=\"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 block px-3 py-2 rounded-md text-base font-medium flex items-center transition-colors duration-200\"\n            >\n              {link.icon}\n              <span className=\"ml-2\">{link.label}</span>\n            </Link>\n          ))}\n          <button\n            onClick={toggleDarkMode}\n            className=\"text-gray-700 dark:text-gray-300 hover:bg-gray-100/50 dark:hover:bg-gray-700/50 w-full px-3 py-2 rounded-md text-base font-medium flex items-center transition-colors duration-200\"\n            aria-label={darkMode ? \"Switch to light mode\" : \"Switch to dark mode\"}\n          >\n            {darkMode ? <Sun size={20} className=\"mr-2\" /> : <Moon size={20} className=\"mr-2\" />}\n            {darkMode ? \"Light Mode\" : \"Dark Mode\"}\n          </button>\n          {status !== \"loading\" && (\n            <div className=\"mt-4\">\n              {session ? (\n                <button\n                  onClick={handleSignOut}\n                  className=\"w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200\"\n                  aria-label=\"Sign out\"\n                >\n                  Sign Out\n                </button>\n              ) : (\n                <button\n                  onClick={handleSignIn}\n                  className=\"w-full bg-[#1DB954] hover:bg-[#1ed760] text-white px-4 py-2 rounded-md text-sm font-medium flex items-center justify-center transition-colors duration-200\"\n                  aria-label=\"Connect with Spotify\"\n                >\n                  <Music size={20} className=\"mr-2\" />\n                  Connect with Spotify\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;;AAae,SAAS;IACtB,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAE3C,MAAM,WAAsB;QAC1B;YAAE,MAAM;YAAS,OAAO;YAAW,oBAAM,8OAAC,oMAAA,CAAA,QAAK;gBAAC,MAAM;;;;;;QAAO;QAC7D;YAAE,MAAM;YAAgB,OAAO;YAAe,oBAAM,8OAAC,gOAAA,CAAA,YAAS;gBAAC,MAAM;;;;;;QAAO;QAC5E;YAAE,MAAM;YAAU,OAAO;YAAS,oBAAM,8OAAC,kMAAA,CAAA,OAAI;gBAAC,MAAM;;;;;;QAAO;KAC5D;IAED,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB,aAAa,OAAO,CAAC;QAC3C,IAAI,kBAAkB,MAAM;YAC1B,YAAY,KAAK,KAAK,CAAC;QACzB;QAEA,MAAM,eAAe;YACnB,cAAc,OAAO,OAAO,GAAG;QACjC;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ;QAClD,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;IAClD,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe;QACnB,MAAM,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD,EAAE,WAAW;YAAE,aAAa;QAAQ;IACjD;IAEA,MAAM,gBAAgB;QACpB,MAAM,CAAA,GAAA,8IAAA,CAAA,UAAO,AAAD,EAAE;YAAE,aAAa;QAAI;IACnC;IAEA,MAAM,mBAAmB;QACvB,oBAAoB,CAAA,OAAQ,CAAC;IAC/B;IAEA,MAAM,iBAAiB;QACrB,YAAY,CAAA,OAAQ,CAAC;IACvB;IAEA,qBACE,8OAAC;QAAI,WAAW,CAAC,qDAAqD,EACpE,aACI,+DACA,kBACJ;;0BACA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,4HAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;0CACvB,cAAA,8OAAC,oMAAA,CAAA,QAAK;oCAAC,WAAU;;;;;;;;;;;;;;;;sCAIrB,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;oCACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,4HAAA,CAAA,UAAI;4CAEH,MAAM,KAAK,IAAI;4CACf,WAAU;;gDAET,KAAK,IAAI;8DACV,8OAAC;oDAAK,WAAU;8DAAQ,KAAK,KAAK;;;;;;;2CAL7B,KAAK,IAAI;;;;;kDAQlB,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,cAAY,WAAW,yBAAyB;kDAE/C,yBAAW,8OAAC,gMAAA,CAAA,MAAG;4CAAC,MAAM;;;;;iEAAS,8OAAC,kMAAA,CAAA,OAAI;4CAAC,MAAM;;;;;;;;;;;oCAE7C,WAAW,0BACV,8OAAC;wCAAK,WAAU;kDAAmC;;;;;+CACjD,wBACF,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,cAAW;kDACZ;;;;;6DAID,8OAAC;wCACC,SAAS;wCACT,WAAU;wCACV,cAAW;;0DAEX,8OAAC,oMAAA,CAAA,QAAK;gDAAC,MAAM;gDAAI,WAAU;;;;;;4CAAS;;;;;;;;;;;;;;;;;;sCAM5C,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEV,iCAAmB,8OAAC,4LAAA,CAAA,IAAC;oCAAC,MAAM;;;;;yDAAS,8OAAC,kMAAA,CAAA,OAAI;oCAAC,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO1D,8OAAC;gBAAI,WAAW,CAAC,kDAAkD,EACjE,mBAAmB,6BAA6B,qCAChD;0BACA,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,8OAAC,4HAAA,CAAA,UAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAU;;oCAET,KAAK,IAAI;kDACV,8OAAC;wCAAK,WAAU;kDAAQ,KAAK,KAAK;;;;;;;+BAL7B,KAAK,IAAI;;;;;sCAQlB,8OAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAY,WAAW,yBAAyB;;gCAE/C,yBAAW,8OAAC,gMAAA,CAAA,MAAG;oCAAC,MAAM;oCAAI,WAAU;;;;;yDAAY,8OAAC,kMAAA,CAAA,OAAI;oCAAC,MAAM;oCAAI,WAAU;;;;;;gCAC1E,WAAW,eAAe;;;;;;;wBAE5B,WAAW,2BACV,8OAAC;4BAAI,WAAU;sCACZ,wBACC,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CACZ;;;;;qDAID,8OAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;;kDAEX,8OAAC,oMAAA,CAAA,QAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUtD"}},
    {"offset": {"line": 376, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///home/berry/Development/song-of-the-day/src/trpc/query-client.ts"],"sourcesContent":["import {\n  defaultShouldDehydrateQuery,\n  QueryClient,\n} from \"@tanstack/react-query\";\nimport SuperJSON from \"superjson\";\n\nexport const createQueryClient = () =>\n  new QueryClient({\n    defaultOptions: {\n      queries: {\n        // With SSR, we usually want to set some default staleTime\n        // above 0 to avoid refetching immediately on the client\n        staleTime: 30 * 1000,\n      },\n      dehydrate: {\n        serializeData: SuperJSON.serialize,\n        shouldDehydrateQuery: (query) =>\n          defaultShouldDehydrateQuery(query) ||\n          query.state.status === \"pending\",\n      },\n      hydrate: {\n        deserializeData: SuperJSON.deserialize,\n      },\n    },\n  });\n"],"names":[],"mappings":";;;AAIA;AAJA;AAAA;;;AAMO,MAAM,oBAAoB,IAC/B,IAAI,6KAAA,CAAA,cAAW,CAAC;QACd,gBAAgB;YACd,SAAS;gBACP,0DAA0D;gBAC1D,wDAAwD;gBACxD,WAAW,KAAK;YAClB;YACA,WAAW;gBACT,eAAe,0IAAA,CAAA,UAAS,CAAC,SAAS;gBAClC,sBAAsB,CAAC,QACrB,CAAA,GAAA,2KAAA,CAAA,8BAA2B,AAAD,EAAE,UAC5B,MAAM,KAAK,CAAC,MAAM,KAAK;YAC3B;YACA,SAAS;gBACP,iBAAiB,0IAAA,CAAA,UAAS,CAAC,WAAW;YACxC;QACF;IACF"}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///home/berry/Development/song-of-the-day/src/trpc/react.tsx"],"sourcesContent":["\"use client\";\n\nimport { QueryClientProvider, type QueryClient } from \"@tanstack/react-query\";\nimport { loggerLink, unstable_httpBatchStreamLink } from \"@trpc/client\";\nimport { createTRPCReact } from \"@trpc/react-query\";\nimport { type inferRouterInputs, type inferRouterOutputs } from \"@trpc/server\";\nimport { useState } from \"react\";\nimport SuperJSON from \"superjson\";\n\nimport { type AppRouter } from \"~/server/api/root\";\nimport { createQueryClient } from \"./query-client\";\n\nlet clientQueryClientSingleton: QueryClient | undefined = undefined;\nconst getQueryClient = () => {\n  if (typeof window === \"undefined\") {\n    // Server: always make a new query client\n    return createQueryClient();\n  }\n  // Browser: use singleton pattern to keep the same query client\n  return (clientQueryClientSingleton ??= createQueryClient());\n};\n\nexport const api = createTRPCReact<AppRouter>();\n\n/**\n * Inference helper for inputs.\n *\n * @example type HelloInput = RouterInputs['example']['hello']\n */\nexport type RouterInputs = inferRouterInputs<AppRouter>;\n\n/**\n * Inference helper for outputs.\n *\n * @example type HelloOutput = RouterOutputs['example']['hello']\n */\nexport type RouterOutputs = inferRouterOutputs<AppRouter>;\n\nexport function TRPCReactProvider(props: { children: React.ReactNode }) {\n  const queryClient = getQueryClient();\n\n  const [trpcClient] = useState(() =>\n    api.createClient({\n      links: [\n        loggerLink({\n          enabled: (op) =>\n            process.env.NODE_ENV === \"development\" ||\n            (op.direction === \"down\" && op.result instanceof Error),\n        }),\n        unstable_httpBatchStreamLink({\n          transformer: SuperJSON,\n          url: getBaseUrl() + \"/api/trpc\",\n          headers: () => {\n            const headers = new Headers();\n            headers.set(\"x-trpc-source\", \"nextjs-react\");\n            return headers;\n          },\n        }),\n      ],\n    })\n  );\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <api.Provider client={trpcClient} queryClient={queryClient}>\n        {props.children}\n      </api.Provider>\n    </QueryClientProvider>\n  );\n}\n\nfunction getBaseUrl() {\n  if (typeof window !== \"undefined\") return window.location.origin;\n  if (process.env.VERCEL_URL) return `https://${process.env.VERCEL_URL}`;\n  return `http://localhost:${process.env.PORT ?? 3000}`;\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AACA;AAGA;AANA;AADA;AAAA;AADA;AAFA;;;;;;;;AAYA,IAAI,6BAAsD;AAC1D,MAAM,iBAAiB;IACrB,wCAAmC;QACjC,yCAAyC;QACzC,OAAO,CAAA,GAAA,8HAAA,CAAA,oBAAiB,AAAD;IACzB;;AAGF;AAEO,MAAM,MAAM,CAAA,GAAA,oKAAA,CAAA,kBAAe,AAAD;AAgB1B,SAAS,kBAAkB,KAAoC;IACpE,MAAM,cAAc;IAEpB,MAAM,CAAC,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,IAC5B,IAAI,YAAY,CAAC;YACf,OAAO;gBACL,CAAA,GAAA,gKAAA,CAAA,aAAU,AAAD,EAAE;oBACT,SAAS,CAAC,KACR,oDAAyB,iBACxB,GAAG,SAAS,KAAK,UAAU,GAAG,MAAM,YAAY;gBACrD;gBACA,CAAA,GAAA,yKAAA,CAAA,+BAA4B,AAAD,EAAE;oBAC3B,aAAa,0IAAA,CAAA,UAAS;oBACtB,KAAK,eAAe;oBACpB,SAAS;wBACP,MAAM,UAAU,IAAI;wBACpB,QAAQ,GAAG,CAAC,iBAAiB;wBAC7B,OAAO;oBACT;gBACF;aACD;QACH;IAGF,qBACE,8OAAC,sLAAA,CAAA,sBAAmB;QAAC,QAAQ;kBAC3B,cAAA,8OAAC,IAAI,QAAQ;YAAC,QAAQ;YAAY,aAAa;sBAC5C,MAAM,QAAQ;;;;;;;;;;;AAIvB;AAEA,SAAS;IACP,uCAAmC;;IAA6B;IAChE,IAAI,QAAQ,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,UAAU,EAAE;IACtE,OAAO,CAAC,iBAAiB,EAAE,QAAQ,GAAG,CAAC,IAAI,IAAI,MAAM;AACvD"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}